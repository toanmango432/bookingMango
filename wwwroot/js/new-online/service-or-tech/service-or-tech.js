export function ServiceOrTech() {
  const $wrapNewOnline = $(".wrap-newonline");
  const store = salonStore.getState();
  const salonChoosing = store.salonChoosing;
  const htmlHeaderSalon = HeaderSalon(salonChoosing);

  const htmlSerOrTech = `
        <div class="wrap-service-or-tech">
            <div class="header-sertech">
                ${htmlHeaderSalon}
            </div>
            <div class="wrap-content-sertech">
                <div class="content-sertech">
                    <div class="title-sertech">
                        <button class="back-salon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                                <path d="M10.07 5.92969L4 11.9997L10.07 18.0697" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M20.9999 12H4.16992" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <h3 class="text-uppercase">Pick a service or choose your technician</h3>
                    </div>
                    <div class="list-sertech">
                        <button id="options-service" class="item-sertech">
                            <span class="icon-ser">
                                <svg xmlns="http://www.w3.org/2000/svg" width="43" height="42" viewBox="0 0 43 42" fill="currentColor">
                                    <mask id="path-1-inside-1_3756_128067" fill="white">
                                        <path d="M21.4999 39.6009C20.3274 39.6009 19.1374 39.3384 18.2099 38.7959L8.58492 33.2484C4.66492 30.6059 4.41992 30.2034 4.41992 26.0559V15.9409C4.41992 11.7934 4.64742 11.3909 8.49742 8.78344L18.1924 3.18344C20.0299 2.11594 22.9174 2.11594 24.7549 3.18344L34.4149 8.74844C38.3349 11.3909 38.5799 11.7934 38.5799 15.9409V26.0384C38.5799 30.1859 38.3524 30.5884 34.5024 33.1959L24.8074 38.7959C23.8624 39.3384 22.6724 39.6009 21.4999 39.6009ZM21.4999 5.02094C20.7649 5.02094 20.0474 5.16094 19.5399 5.45844L9.91492 11.0234C7.06242 12.9484 7.06242 12.9484 7.06242 15.9409V26.0384C7.06242 29.0309 7.06242 29.0309 9.98492 31.0084L19.5399 36.5209C20.5724 37.1159 22.4449 37.1159 23.4774 36.5209L33.1024 30.9559C35.9374 29.0309 35.9374 29.0309 35.9374 26.0384V15.9409C35.9374 12.9484 35.9374 12.9484 33.0149 10.9709L23.4599 5.45844C22.9524 5.16094 22.2349 5.02094 21.4999 5.02094Z"/>
                                    </mask>
                                    <path d="M21.4999 39.6009C20.3274 39.6009 19.1374 39.3384 18.2099 38.7959L8.58492 33.2484C4.66492 30.6059 4.41992 30.2034 4.41992 26.0559V15.9409C4.41992 11.7934 4.64742 11.3909 8.49742 8.78344L18.1924 3.18344C20.0299 2.11594 22.9174 2.11594 24.7549 3.18344L34.4149 8.74844C38.3349 11.3909 38.5799 11.7934 38.5799 15.9409V26.0384C38.5799 30.1859 38.3524 30.5884 34.5024 33.1959L24.8074 38.7959C23.8624 39.3384 22.6724 39.6009 21.4999 39.6009ZM21.4999 5.02094C20.7649 5.02094 20.0474 5.16094 19.5399 5.45844L9.91492 11.0234C7.06242 12.9484 7.06242 12.9484 7.06242 15.9409V26.0384C7.06242 29.0309 7.06242 29.0309 9.98492 31.0084L19.5399 36.5209C20.5724 37.1159 22.4449 37.1159 23.4774 36.5209L33.1024 30.9559C35.9374 29.0309 35.9374 29.0309 35.9374 26.0384V15.9409C35.9374 12.9484 35.9374 12.9484 33.0149 10.9709L23.4599 5.45844C22.9524 5.16094 22.2349 5.02094 21.4999 5.02094Z" fill="currentColor"/>
                                    <path d="M18.2099 38.7959L19.7246 36.2064L19.7163 36.2015L19.708 36.1968L18.2099 38.7959ZM8.58492 33.2484L6.90803 35.736L6.99548 35.795L7.08685 35.8476L8.58492 33.2484ZM8.49742 8.78344L6.9969 6.18566L6.90398 6.23934L6.81513 6.29951L8.49742 8.78344ZM18.1924 3.18344L19.6929 5.78122L19.6994 5.77746L18.1924 3.18344ZM24.7549 3.18344L23.2479 5.77748L23.2574 5.78293L24.7549 3.18344ZM34.4149 8.74844L36.0918 6.26086L36.0041 6.20174L35.9125 6.14894L34.4149 8.74844ZM34.5024 33.1959L36.0029 35.7937L36.0959 35.74L36.1847 35.6799L34.5024 33.1959ZM24.8074 38.7959L26.301 41.3977L26.3079 41.3937L24.8074 38.7959ZM19.5399 5.45844L21.0415 8.05558L21.0493 8.05108L21.0571 8.04653L19.5399 5.45844ZM9.91492 11.0234L8.4133 8.4263L8.32312 8.47844L8.23677 8.53671L9.91492 11.0234ZM9.98492 31.0084L8.30369 33.4931L8.39268 33.5533L8.48575 33.607L9.98492 31.0084ZM19.5399 36.5209L18.0408 39.1195L18.042 39.1202L19.5399 36.5209ZM23.4774 36.5209L24.9753 39.1202L24.979 39.1181L23.4774 36.5209ZM33.1024 30.9559L34.604 33.5531L34.6979 33.4988L34.7877 33.4379L33.1024 30.9559ZM33.0149 10.9709L34.6962 8.48629L34.6072 8.42607L34.5141 8.37238L33.0149 10.9709ZM23.4599 5.45844L21.9428 8.04653L21.9517 8.05179L21.9608 8.05699L23.4599 5.45844ZM21.4999 39.6009V36.6009C20.7253 36.6009 20.0889 36.4195 19.7246 36.2064L18.2099 38.7959L16.6953 41.3855C18.1859 42.2574 19.9295 42.6009 21.4999 42.6009V39.6009ZM18.2099 38.7959L19.708 36.1968L10.083 30.6493L8.58492 33.2484L7.08685 35.8476L16.7118 41.3951L18.2099 38.7959ZM8.58492 33.2484L10.2618 30.7609C9.26918 30.0917 8.63609 29.6476 8.19052 29.2797C7.76512 28.9285 7.65738 28.7628 7.62679 28.7102C7.55247 28.5822 7.41992 28.3076 7.41992 26.0559H4.41992H1.41992C1.41992 27.9517 1.40987 29.9522 2.43805 31.723C3.40734 33.3923 5.13132 34.5383 6.90803 35.736L8.58492 33.2484ZM4.41992 26.0559H7.41992V15.9409H4.41992H1.41992V26.0559H4.41992ZM4.41992 15.9409H7.41992C7.41992 13.6806 7.54784 13.3992 7.62188 13.2692C7.64832 13.2228 7.74743 13.0645 8.15731 12.7227C8.58883 12.3629 9.20544 11.9272 10.1797 11.2674L8.49742 8.78344L6.81513 6.29951C5.06918 7.48199 3.3628 8.62339 2.40797 10.3002C1.40575 12.0602 1.41992 14.0538 1.41992 15.9409H4.41992ZM8.49742 8.78344L9.99794 11.3812L19.6929 5.78121L18.1924 3.18344L16.6919 0.585662L6.9969 6.18566L8.49742 8.78344ZM18.1924 3.18344L19.6994 5.77746C20.0643 5.5655 20.6982 5.38281 21.4737 5.38281C22.2492 5.38281 22.8831 5.5655 23.2479 5.77746L24.7549 3.18344L26.2619 0.589417C24.7893 -0.26612 23.0607 -0.617188 21.4737 -0.617188C19.8867 -0.617188 18.1581 -0.26612 16.6854 0.589417L18.1924 3.18344ZM24.7549 3.18344L23.2574 5.78293L32.9174 11.3479L34.4149 8.74844L35.9125 6.14894L26.2525 0.583941L24.7549 3.18344ZM34.4149 8.74844L32.738 11.236C33.7307 11.9052 34.3638 12.3492 34.8093 12.7171C35.2347 13.0684 35.3425 13.234 35.3731 13.2867C35.4474 13.4147 35.5799 13.6892 35.5799 15.9409H38.5799H41.5799C41.5799 14.0451 41.59 12.0447 40.5618 10.2739C39.5925 8.60457 37.8685 7.45856 36.0918 6.26086L34.4149 8.74844ZM38.5799 15.9409H35.5799V26.0384H38.5799H41.5799V15.9409H38.5799ZM38.5799 26.0384H35.5799C35.5799 28.2988 35.452 28.5802 35.378 28.7102C35.3515 28.7566 35.2524 28.9149 34.8425 29.2567C34.411 29.6165 33.7944 30.0522 32.8201 30.712L34.5024 33.1959L36.1847 35.6799C37.9307 34.4974 39.637 33.356 40.5919 31.6792C41.5941 29.9192 41.5799 27.9256 41.5799 26.0384H38.5799ZM34.5024 33.1959L33.0019 30.5982L23.3069 36.1982L24.8074 38.7959L26.3079 41.3937L36.0029 35.7937L34.5024 33.1959ZM24.8074 38.7959L23.3138 36.1942C22.9171 36.4219 22.2681 36.6009 21.4999 36.6009V39.6009V42.6009C23.0767 42.6009 24.8078 42.2549 26.301 41.3977L24.8074 38.7959ZM21.4999 5.02094V2.02094C20.471 2.02094 19.1604 2.20347 18.0228 2.87034L19.5399 5.45844L21.0571 8.04653C20.9695 8.09789 20.958 8.08423 21.0671 8.06069C21.1673 8.03907 21.316 8.02094 21.4999 8.02094V5.02094ZM19.5399 5.45844L18.0383 2.8613L8.4133 8.4263L9.91492 11.0234L11.4165 13.6206L21.0415 8.05558L19.5399 5.45844ZM9.91492 11.0234L8.23677 8.53671C7.5621 8.99201 6.91542 9.42597 6.40408 9.83066C5.87343 10.2506 5.27441 10.8001 4.82397 11.5766C4.35544 12.3843 4.19054 13.1877 4.12154 13.8857C4.05905 14.518 4.06242 15.2514 4.06242 15.9409H7.06242H10.0624C10.0624 15.1343 10.0658 14.7455 10.0924 14.4759C10.1126 14.2721 10.126 14.3941 10.014 14.5872C9.92012 14.749 9.85594 14.7505 10.1276 14.5355C10.4185 14.3053 10.8415 14.0174 11.5931 13.5102L9.91492 11.0234ZM7.06242 15.9409H4.06242V26.0384H7.06242H10.0624V15.9409H7.06242ZM7.06242 26.0384H4.06242C4.06242 26.7269 4.0589 27.464 4.1233 28.1011C4.19476 28.8081 4.36537 29.6147 4.8417 30.4247C5.29664 31.1984 5.8996 31.7488 6.43505 32.172C6.95362 32.5819 7.61064 33.0241 8.30369 33.4931L9.98492 31.0084L11.6662 28.5238C10.898 28.004 10.459 27.7047 10.1557 27.4649C9.86915 27.2384 9.92415 27.231 10.0138 27.3834C10.1248 27.5722 10.1127 27.6941 10.0929 27.4976C10.0659 27.2313 10.0624 26.8462 10.0624 26.0384H7.06242ZM9.98492 31.0084L8.48575 33.607L18.0408 39.1195L19.5399 36.5209L21.0391 33.9224L11.4841 28.4099L9.98492 31.0084ZM19.5399 36.5209L18.042 39.1202C19.159 39.7639 20.4542 39.9672 21.5087 39.9672C22.5631 39.9672 23.8584 39.7639 24.9753 39.1202L23.4774 36.5209L21.9795 33.9216C22.0472 33.8826 22.04 33.9008 21.925 33.9262C21.8187 33.9496 21.6737 33.9672 21.5087 33.9672C21.3436 33.9672 21.1986 33.9496 21.0923 33.9262C20.9773 33.9008 20.9701 33.8826 21.0378 33.9216L19.5399 36.5209ZM23.4774 36.5209L24.979 39.1181L34.604 33.5531L33.1024 30.9559L31.6008 28.3588L21.9758 33.9238L23.4774 36.5209ZM33.1024 30.9559L34.7877 33.4379C35.458 32.9827 36.1014 32.5483 36.6102 32.1431C37.1387 31.7222 37.7345 31.1722 38.1821 30.3959C38.647 29.5894 38.8104 28.788 38.8788 28.0919C38.9408 27.4607 38.9374 26.7284 38.9374 26.0384H35.9374H32.9374C32.9374 26.8448 32.9341 27.2346 32.9075 27.5052C32.8873 27.7109 32.8735 27.5909 32.984 27.3991C33.0772 27.2375 33.1414 27.2354 32.8726 27.4495C32.5841 27.6792 32.1644 27.9667 31.4172 28.474L33.1024 30.9559ZM35.9374 26.0384H38.9374V15.9409H35.9374H32.9374V26.0384H35.9374ZM35.9374 15.9409H38.9374C38.9374 15.2525 38.9409 14.5153 38.8765 13.8783C38.8051 13.1713 38.6345 12.3647 38.1581 11.5546C37.7032 10.781 37.1002 10.2306 36.5648 9.80737C36.0462 9.39748 35.3892 8.95524 34.6962 8.48629L33.0149 10.9709L31.3337 13.4556C32.1019 13.9754 32.5408 14.2747 32.8442 14.5145C33.1307 14.741 33.0757 14.7484 32.9861 14.596C32.8751 14.4072 32.8871 14.2852 32.907 14.4817C32.9339 14.7481 32.9374 15.1331 32.9374 15.9409H35.9374ZM33.0149 10.9709L34.5141 8.37238L24.9591 2.85988L23.4599 5.45844L21.9608 8.05699L31.5158 13.5695L33.0149 10.9709ZM23.4599 5.45844L24.9771 2.87034C23.8395 2.20347 22.5289 2.02094 21.4999 2.02094V5.02094V8.02094C21.6839 8.02094 21.8325 8.03907 21.9327 8.06069C22.0419 8.08423 22.0304 8.09789 21.9428 8.04653L23.4599 5.45844Z" fill="currentColor" mask="url(#path-1-inside-1_3756_128067)"/>
                                    <path d="M21.5 27.5625C17.8775 27.5625 14.9375 24.6225 14.9375 21C14.9375 17.3775 17.8775 14.4375 21.5 14.4375C25.1225 14.4375 28.0625 17.3775 28.0625 21C28.0625 24.6225 25.1225 27.5625 21.5 27.5625ZM21.5 17.0625C19.33 17.0625 17.5625 18.83 17.5625 21C17.5625 23.17 19.33 24.9375 21.5 24.9375C23.67 24.9375 25.4375 23.17 25.4375 21C25.4375 18.83 23.67 17.0625 21.5 17.0625Z" fill="#181818"/>
                                </svg>
                            </span>
                            <span class="text text-uppercase">
                                I want to pick a service
                            </span>
                        </button>
                        <button id="options-tech" class="item-sertech">
                            <span class="icon-tech">
                                <svg xmlns="http://www.w3.org/2000/svg" width="43" height="42" viewBox="0 0 43 42" fill="none">
                                    <path d="M37.25 34.9999C37.25 31.952 34.3282 29.3591 30.25 28.3982M26.75 35C26.75 31.134 22.049 28 16.25 28C10.451 28 5.75 31.134 5.75 35M26.75 22.75C30.616 22.75 33.75 19.616 33.75 15.75C33.75 11.884 30.616 8.75 26.75 8.75M16.25 22.75C12.384 22.75 9.25 19.616 9.25 15.75C9.25 11.884 12.384 8.75 16.25 8.75C20.116 8.75 23.25 11.884 23.25 15.75C23.25 19.616 20.116 22.75 16.25 22.75Z" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                            <span class="text text-uppercase">
                                I want to choose a technician
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `;

  $wrapNewOnline.empty();
  $wrapNewOnline.append(htmlSerOrTech);
  return htmlSerOrTech;
}

// header lấy thông tin tiệm từ store khi chọn tiệm
// import store
import { salonStore } from "../../store/new-online-store.js";
// import constant
import { SelecteFlow, PageCurrent } from "../../constants/new-online.js";
// import component
import { ChooseNailSalon } from "../choose-nail-salon/choose-nail-salon.js";
import { HeaderSalon } from "../header/header-salon.js";
import { ScreenChooseService } from "../screen-choose-sertech/screen-choose-service.js";
import { ScreenChooseTech } from "../screen-choose-sertech/screen-choose-tech.js";

$(document).ready(async function () {
  const $wrapNewOnline = $(".wrap-newonline");

  $(document).on("click", ".back-salon", async function () {
    await ChooseNailSalon();
  });

  $(document).on("click", "#options-service", async function () {
    await ScreenChooseService(); // append screen choose service

    const store = salonStore.getState();
    salonStore.setState({
      ...store,
      flow: SelecteFlow.SER,
      pageCurrent: PageCurrent.CHOOSE_SERVICE,
    });
    // reset dataBooking
    salonStore.resetDataBooking();
  });

  $(document).on("click", "#options-tech", async function () {
    await ScreenChooseTech();
    const store = salonStore.getState();
    salonStore.setState({
      ...store,
      flow: SelecteFlow.TECH,
      pageCurrent: PageCurrent.CHOOSE_TECH,
    });

    // reset dataBooking
    salonStore.resetDataBooking();
  });
});
